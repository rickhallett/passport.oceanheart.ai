<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<!-- Auth Status Component -->
<div th:fragment="auth-status" class="auth-status-bar">
    <div sec:authorize="isAuthenticated()" class="glass" style="position: fixed; top: 0; left: 0; right: 0; z-index: 1000; padding: 0.5rem 1rem; background: rgba(34, 197, 94, 0.1); border-bottom: 1px solid rgba(34, 197, 94, 0.2);">
        <div class="flex justify-between items-center max-w-6xl mx-auto">
            <div class="terminal-text-muted text-sm">
                <span class="text-green-400">‚óè</span> 
                <span sec:authentication="name">user@example.com</span>
            </div>
            <div class="flex items-center gap-4">
                <a th:href="@{/}" class="terminal-link text-sm">Home</a>
                <div sec:authorize="hasRole('ADMIN')">
                    <a th:href="@{/admin}" class="terminal-link text-sm">Admin</a>
                </div>
                <form th:action="@{/sign-out}" method="post" style="display: inline;">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <button type="submit" class="terminal-link text-sm" style="background: none; border: none; cursor: pointer;">
                        Sign Out
                    </button>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Spacer for fixed auth bar -->
    <div sec:authorize="isAuthenticated()" style="height: 3rem;"></div>
</div>

</html>